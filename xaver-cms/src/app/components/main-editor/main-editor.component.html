<div class="main_body">
  <div class="quest_selector_container">
    <div class="quest_selector_header">Jagd</div>
    <input hidden type="file" #uploader (change)="uploadChase($event)" />
    <div class="button-wrapper">
      <mat-icon class="chase-menu-icon" (click)="createNewChase()" matTooltip="Neue Jagd">add</mat-icon>
      <mat-icon class="chase-menu-icon" (click)="pushChase()" matTooltip="Jagd speichern">save</mat-icon>

      <mat-icon class="chase-menu-icon" (click)="uploader.click()" matTooltip="Jagd hochladen">file_upload</mat-icon>
      <mat-icon class="chase-menu-icon" (click)="downloadChase()" matTooltip="Jagd herunterladen">file_download
      </mat-icon>
      <mat-icon class="chase-menu-icon" (click)="deleteChase()" matTooltip="Jagd löschen">delete</mat-icon>
    </div>

    <form id="chase-meta-info-form">
      <mat-form-field>
        <input matInput type="text" id="author" name="Titel" [(ngModel)]="title" placeholder="Name der Jagd...">
      </mat-form-field>
      <mat-form-field> <input matInput type="text" id="author" name="Autor" [(ngModel)]="author" placeholder="Autor...">
      </mat-form-field>
      <mat-form-field>
        <textarea matInput type="text" id="chase_description" placeholder="Kurze Beschreibung für diese Jagd..."
          name="fname" class="input_field_big" [(ngModel)]="description"></textarea>
      </mat-form-field>

      <mat-form-field>
        <mat-label class="" for="initial-game-element">Startelement:</mat-label>

        <mat-select
          name="initial-game-element"
          id="initial-game-element"
          [(ngModel)]="initialElement">
          <mat-option
            *ngFor="let target of gameElementsList"
            [value]='target'
            [attr.selected]='target'
            (click)="onInitialGameElementChange(target)">{{target}}</mat-option>
        </mat-select>
      </mat-form-field>
    </form>

    <div class="quest_selector_header">Anzeigebild für Chase</div>

    <div class="quest-image-outer-container">
      <div class="quest-image-container">
        <img [src]="imageUrl">
      </div>
      <div class="row">
        <input type="text" id="image-name" name="quest_name" [(ngModel)]="imageUrl"
          placeholder="URL für das Bild..."><br><br>
        <input hidden type="file" #MediaUploader (change)="uploadMedia($event)" />
        <mat-icon id="saveChaseButton" mat-icon-button matTooltip="Bild für Chase hochladen" color="primary"
          (click)="MediaUploader.click()">file_upload
        </mat-icon>
      </div>
    </div>

    <div class="quest_selector_header">Rätsel</div>

    <div class="quest_selector">
      <mat-selection-list #selected [multiple]="false" #questlist>
        <mat-list-option *ngFor="let quest of questList">
          <div class=text-and-delete-container (click)="questSelectorClicked(quest)">
            {{quest}}
            <mat-icon class=delete_icon (click)=deleteGameElement(quest)>delete</mat-icon>
          </div>
        </mat-list-option>
      </mat-selection-list>

      <button id="addQuestButton" mat-raised-button color="primary" (click)="addQuest()">Neues Rätsel</button>
    </div>
    <div class="quest_selector_header">Erzählelement</div>
    <div class="quest_selector">
      <mat-selection-list #selected [multiple]="false" #questlist>
        <mat-list-option *ngFor="let quest of narrativeList">
          <div class=text-and-delete-container (click)="questSelectorClicked(quest)">
            {{quest}}
            <mat-icon class=delete_icon (click)=deleteGameElement(quest)>delete</mat-icon>
          </div>
        </mat-list-option>
      </mat-selection-list>

      <button id="addQuestButton" mat-raised-button color="primary" (click)="addNarrative()">
        Neues Erzählelement
      </button>
    </div>

  </div>
  <app-quest-editor #quest_editor></app-quest-editor>
</div>
